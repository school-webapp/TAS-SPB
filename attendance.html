<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏•‡∏≤ (TAS-SPB)</title>
    <link rel="icon" type="image/png" href="favicon.png">
    
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #4f46e5; --primary-light: #818cf8;
            --success: #10b981; --success-bg: #d1fae5;
            --danger: #ef4444; --danger-bg: #fee2e2;
            --warning: #f59e0b; --warning-bg: #fef3c7;
            --bg-body: #f3f4f6; --bg-card: #ffffff;
            --text-main: #1f2937; --text-muted: #6b7280;
            --border: #e5e7eb;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        * { box-sizing: border-box; }
        body { font-family: 'Sarabun', sans-serif; background-color: var(--bg-body); color: var(--text-main); margin: 0; padding: 10px; }

        /* Layout */
        .container {
            max-width: 1000px; margin: 0 auto;
            background: transparent;
        }

        /* Header Card */
        .header-card {
            background: var(--bg-card); padding: 15px 20px;
            border-radius: 16px; box-shadow: var(--shadow);
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 20px; flex-wrap: wrap; gap: 10px;
        }
        .app-title { display: flex; align-items: center; gap: 10px; }
        .app-title i { font-size: 1.8rem; color: var(--primary); }
        .app-title h2 { margin: 0; font-size: 1.25rem; font-weight: 700; color: var(--text-main); }
        .app-title span { font-size: 0.85rem; color: var(--text-muted); font-weight: 400; }

        .back-btn {
            background: #f1f5f9; color: var(--text-muted);
            text-decoration: none; padding: 8px 16px;
            border-radius: 30px; font-weight: 600; font-size: 0.9rem;
            transition: all 0.2s; display: flex; align-items: center; gap: 5px;
        }
        .back-btn:hover { background: #e2e8f0; color: var(--text-main); }

        /* Toolbar */
        .toolbar {
            background: var(--bg-card); padding: 20px;
            border-radius: 16px; box-shadow: var(--shadow);
            display: flex; flex-wrap: wrap; gap: 15px;
            align-items: flex-end; margin-bottom: 20px;
        }
        .input-group { flex: 1; min-width: 200px; display: flex; flex-direction: column; gap: 5px; }
        .input-group label { font-size: 0.9rem; font-weight: 600; color: var(--text-muted); }
        
        input, select {
            padding: 12px; border: 1px solid var(--border); border-radius: 10px;
            font-family: 'Sarabun'; font-size: 1rem; width: 100%;
            transition: all 0.2s; background: #f9fafb;
        }
        input:focus { outline: none; border-color: var(--primary); background: #fff; box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); }

        /* Buttons */
        .btn {
            padding: 12px 24px; border-radius: 10px; border: none;
            font-weight: 600; cursor: pointer; color: white;
            font-family: 'Sarabun'; font-size: 1rem;
            display: flex; align-items: center; gap: 8px;
            transition: transform 0.1s, box-shadow 0.2s;
        }
        .btn:active { transform: scale(0.96); }
        .btn-primary { background: linear-gradient(135deg, #4f46e5, #4338ca); box-shadow: 0 4px 10px rgba(67, 56, 202, 0.2); }
        .btn-success { background: linear-gradient(135deg, #10b981, #059669); box-shadow: 0 4px 10px rgba(16, 185, 129, 0.2); }
        .btn-icon { width: 36px; height: 36px; padding: 0; justify-content: center; border-radius: 8px; }
        
        /* üî• Responsive Table (Card View on Mobile) */
        .data-container { background: var(--bg-card); border-radius: 16px; box-shadow: var(--shadow); overflow: hidden; }
        
        table { width: 100%; border-collapse: collapse; }
        thead { background: #f8fafc; border-bottom: 2px solid var(--border); }
        th { padding: 15px; text-align: left; font-weight: 600; color: var(--text-muted); font-size: 0.9rem; text-transform: uppercase; }
        td { padding: 15px; border-bottom: 1px solid var(--border); vertical-align: middle; }
        tr:last-child td { border-bottom: none; }

        .time-badge {
            display: inline-block; padding: 4px 10px; border-radius: 6px;
            font-weight: 700; font-family: monospace; font-size: 1rem;
        }
        .time-in { color: var(--success-dark); background: var(--success-bg); }
        .time-out { color: var(--danger-dark); background: var(--danger-bg); }
        .time-empty { color: #cbd5e1; font-weight: normal; }

        /* Mobile View Transformation */
        @media (max-width: 768px) {
            .data-container { background: transparent; box-shadow: none; }
            table, thead, tbody, th, td, tr { display: block; }
            thead { display: none; } /* ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏±‡∏ß‡∏ï‡∏≤‡∏£‡∏≤‡∏á */
            
            tr {
                background: var(--bg-card);
                margin-bottom: 15px;
                border-radius: 12px;
                box-shadow: var(--shadow);
                padding: 15px;
                position: relative;
            }
            
            td {
                padding: 8px 0; border: none;
                display: flex; justify-content: space-between; align-items: center;
            }
            
            /* ‡∏™‡∏£‡πâ‡∏≤‡∏á Label ‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏ß‡∏¢ CSS */
            td::before {
                content: attr(data-label);
                font-weight: 600; color: var(--text-muted); font-size: 0.9rem;
            }

            /* ‡∏à‡∏±‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ */
            td:last-child {
                margin-top: 10px; padding-top: 10px; border-top: 1px dashed var(--border);
                justify-content: flex-end; gap: 10px;
            }
            
            /* ‡πÄ‡∏ô‡πâ‡∏ô‡∏ä‡∏∑‡πà‡∏≠ */
            td[data-label="‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•"] { font-size: 1.1rem; font-weight: bold; color: var(--primary); }
        }

        /* Modal Customization */
        .swal2-popup { border-radius: 20px !important; font-family: 'Sarabun', sans-serif !important; }
        .modal-body { text-align: left; display: flex; flex-direction: column; gap: 15px; }
        .search-container { position: relative; }
        .search-results {
            position: absolute; width: 100%; background: white; border: 1px solid var(--border);
            border-radius: 8px; max-height: 200px; overflow-y: auto; z-index: 999;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); display: none;
        }
        .search-item { padding: 12px; cursor: pointer; border-bottom: 1px solid #f3f4f6; }
        .search-item:hover { background: #eff6ff; color: var(--primary); }

        .modal-actions { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .btn-action {
            padding: 15px; border-radius: 12px; border: none; color: white;
            font-size: 1rem; font-weight: bold; cursor: pointer;
            display: flex; flex-direction: column; align-items: center; gap: 5px;
            transition: transform 0.1s;
        }
        .btn-action:active { transform: scale(0.95); }
        .btn-in { background: linear-gradient(135deg, #10b981, #059669); }
        .btn-out { background: linear-gradient(135deg, #ef4444, #dc2626); }
        
        .readonly-field { background-color: #f1f5f9; color: #64748b; border: 1px solid transparent; }
    </style>

    <script src="supabase.js"></script>
    <script src="sweetalert2.js"></script>
    <script src="config.js"></script>
</head>
<body>

    <div class="container">
        <div class="header-card">
            <div class="app-title">
                <i class="fas fa-business-time"></i>
                <div>
                    <h2>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏•‡∏≤ (Level 1)</h2>
                    <span>‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</span>
                </div>
            </div>
            <a href="menu.html" class="back-btn"><i class="fas fa-arrow-left"></i> ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</a>
        </div>

        <div class="toolbar">
            <div class="input-group">
                <label><i class="far fa-calendar-alt"></i> ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</label>
                <input type="date" id="filterDate">
            </div>
            <button class="btn btn-primary" onclick="loadData()">
                <i class="fas fa-search"></i> ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
            </button>
            <div style="flex-grow: 1;"></div>
            <button class="btn btn-success" onclick="openAddModal()">
                <i class="fas fa-plus"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
            </button>
        </div>

        <div class="data-container">
            <table id="mainTable">
                <thead>
                    <tr>
                        <th>‡∏£‡∏´‡∏±‡∏™</th>
                        <th>‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•</th>
                        <th class="text-center">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</th>
                        <th class="text-center">‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å</th>
                        <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                        <th class="text-center">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <tr><td colspan="6" style="text-align:center; padding: 40px; color:#9ca3af;">
                        <i class="fas fa-search fa-2x"></i><br>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
                    </td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // --- Init System ---
        if (typeof sbClient === 'undefined') Swal.fire('Error', '‡πÑ‡∏°‡πà‡∏û‡∏ö Supabase Client', 'error');

        // Helpers
        const getDBDateString = (d = new Date()) => d.toISOString().split('T')[0];
        const getCurrentTime = () => new Date().toTimeString().slice(0,5);
        const formatDateThai = (dStr) => {
            if(!dStr) return "-";
            const d = new Date(dStr);
            return `${d.getDate()}/${d.getMonth()+1}/${d.getFullYear()+543}`;
        };
        const generateLongID = () => {
            const d = new Date();
            const p = (n) => String(n).padStart(2,'0');
            return `${d.getFullYear()}${p(d.getMonth()+1)}${p(d.getDate())}${p(d.getHours())}${p(d.getMinutes())}${p(d.getSeconds())}${Math.floor(Math.random()*1000)}`;
        };

        // Start
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('filterDate').value = getDBDateString();
            loadData();
        });

        // --- Load Data ---
        async function loadData() {
            const date = document.getElementById('filterDate').value;
            const tbody = document.getElementById('tableBody');
            if(!date) return;

            tbody.innerHTML = '<tr><td colspan="6" style="text-align:center; padding:30px;">‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</td></tr>';

            try {
                const { data, error } = await sbClient
                    .from(TAS_CONFIG.TABLE_SOURCE)
                    .select('*')
                    .eq('work_date', date)
                    .order('time_in', { ascending: true });

                if (error) throw error;

                if (data.length === 0) {
                    tbody.innerHTML = `<tr><td colspan="6" style="text-align:center; padding:30px; color:#6b7280;">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${formatDateThai(date)}</td></tr>`;
                    return;
                }

                let html = '';
                data.forEach(row => {
                    const tIn = row.time_in ? row.time_in.slice(0,5) : null;
                    const tOut = row.time_out ? row.time_out.slice(0,5) : null;
                    
                    // ‡∏™‡∏£‡πâ‡∏≤‡∏á HTML ‡πÇ‡∏î‡∏¢‡πÉ‡∏™‡πà data-label ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Mobile View
                    html += `
                        <tr>
                            <td data-label="‡∏£‡∏´‡∏±‡∏™">${row.personnel_id || '-'}</td>
                            <td data-label="‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•">${row.full_name || '-'}</td>
                            <td data-label="‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤">
                                <span class="time-badge ${tIn ? 'time-in' : 'time-empty'}">${tIn || '-'}</span>
                            </td>
                            <td data-label="‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å">
                                <span class="time-badge ${tOut ? 'time-out' : 'time-empty'}">${tOut || '-'}</span>
                            </td>
                            <td data-label="‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà">${formatDateThai(row.work_date)}</td>
                            <td data-label="‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£">
                                <div style="display:flex; gap:10px; justify-content:flex-end;">
                                    <button class="btn-icon" style="color:#f59e0b; border:1px solid #f59e0b; background:white;" onclick="openEditModal('${row.id}', '${row.personnel_id}', '${row.full_name}', '${tIn||''}', '${tOut||''}')">
                                        <i class="fas fa-pen"></i>
                                    </button>
                                    <button class="btn-icon" style="color:#ef4444; border:1px solid #ef4444; background:white;" onclick="deleteRecord('${row.id}')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    `;
                });
                tbody.innerHTML = html;

            } catch (err) {
                console.error(err);
                tbody.innerHTML = `<tr><td colspan="6" style="color:red; text-align:center;">Error: ${err.message}</td></tr>`;
            }
        }

        // --- Add Modal (Modern & Responsive) ---
        async function openAddModal() {
            const curDate = document.getElementById('filterDate').value;
            const curTime = getCurrentTime();

            await Swal.fire({
                title: '‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤',
                width: '100%',
                customClass: { popup: 'swal2-popup' },
                html: `
                    <div class="modal-body">
                        <div class="search-container">
                            <label style="color:var(--primary); font-weight:700;">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</label>
                            <input id="search-box" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠ (‡πÄ‡∏ä‡πà‡∏ô '‡∏™‡∏°')..." autocomplete="off">
                            <div id="search-results" class="search-results"></div>
                        </div>

                        <div style="display:flex; gap:10px;">
                            <div style="flex:1">
                                <label>‡∏£‡∏´‡∏±‡∏™</label>
                                <input id="swal-pid" class="readonly-field" readonly>
                            </div>
                            <div style="flex:2">
                                <label>‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•</label>
                                <input id="swal-name" class="readonly-field" readonly>
                            </div>
                        </div>

                        <hr style="border:0; border-top:1px dashed #e5e7eb; width:100%; margin:5px 0;">

                        <div style="display:flex; gap:10px;">
                            <div style="flex:1">
                                <label>üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
                                <input type="date" id="swal-date" value="${curDate}">
                            </div>
                            <div style="flex:1">
                                <label>‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤</label>
                                <input type="time" id="swal-time" value="${curTime}" style="text-align:center; font-weight:bold;">
                            </div>
                        </div>

                        <div class="modal-actions">
                            <button class="btn-action btn-in" onclick="saveManualData('in')">
                                <i class="fas fa-sign-in-alt fa-2x"></i>
                                <span>‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô</span>
                            </button>
                            <button class="btn-action btn-out" onclick="saveManualData('out')">
                                <i class="fas fa-sign-out-alt fa-2x"></i>
                                <span>‡πÄ‡∏•‡∏¥‡∏Å‡∏á‡∏≤‡∏ô</span>
                            </button>
                        </div>
                    </div>
                `,
                showConfirmButton: false,
                showCloseButton: true,
                didOpen: () => setupSearchBox()
            });
        }

        // Search Logic
        function setupSearchBox() {
            const box = Swal.getPopup().querySelector('#search-box');
            const results = Swal.getPopup().querySelector('#search-results');
            const pid = Swal.getPopup().querySelector('#swal-pid');
            const name = Swal.getPopup().querySelector('#swal-name');

            box.addEventListener('input', async (e) => {
                const kw = e.target.value.trim();
                if(kw.length < 1) { results.style.display = 'none'; return; }

                const { data } = await sbClient.from('Personnel').select('personnel_id, name').ilike('name', `%${kw}%`).limit(5);
                
                results.innerHTML = '';
                if(data?.length) {
                    results.style.display = 'block';
                    data.forEach(p => {
                        const div = document.createElement('div');
                        div.className = 'search-item';
                        div.innerHTML = `<span style="font-weight:bold; color:var(--primary);">${p.name}</span> <small style="color:#6b7280;">(${p.personnel_id})</small>`;
                        div.onclick = () => {
                            pid.value = p.personnel_id; name.value = p.name;
                            box.value = ''; results.style.display = 'none';
                        };
                        results.appendChild(div);
                    });
                } else results.style.display = 'none';
            });
        }

        // Save Function
        window.saveManualData = async (type) => {
            const f = {
                pid: document.getElementById('swal-pid').value,
                name: document.getElementById('swal-name').value,
                date: document.getElementById('swal-date').value,
                time: document.getElementById('swal-time').value
            };

            if(!f.pid) { Swal.showValidationMessage('‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô'); return; }
            if(!f.date || !f.time) { Swal.showValidationMessage('‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤'); return; }

            try {
                const newID = generateLongID();
                const payload = {
                    id: newID, personnel_id: f.pid, full_name: f.name,
                    work_date: f.date,
                    time_in: (type === 'in' ? f.time : null),
                    time_out: (type === 'out' ? f.time : null)
                };

                const { error } = await sbClient.from(TAS_CONFIG.TABLE_SOURCE).insert([payload]);
                if(error) throw error;

                Swal.fire({
                    icon: 'success', title: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',
                    text: `‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤ ${type==='in'?'‡πÄ‡∏Ç‡πâ‡∏≤':'‡∏≠‡∏≠‡∏Å'} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢`,
                    timer: 1500, showConfirmButton: false
                });
                loadData();
            } catch(err) { Swal.fire('Error', err.message, 'error'); }
        };

        // Edit Modal
        async function openEditModal(id, pid, name, tIn, tOut) {
            const { value: f } = await Swal.fire({
                title: `‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ${name}`,
                html: `
                    <div class="modal-body">
                        <div style="display:flex; gap:15px;">
                            <div style="flex:1">
                                <label style="color:var(--success); font-weight:bold;">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</label>
                                <input type="time" id="edit-in" value="${tIn}" style="text-align:center;">
                            </div>
                            <div style="flex:1">
                                <label style="color:var(--danger); font-weight:bold;">‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å</label>
                                <input type="time" id="edit-out" value="${tOut}" style="text-align:center;">
                            </div>
                        </div>
                    </div>
                `,
                showCancelButton: true,
                confirmButtonText: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç',
                confirmButtonColor: '#4f46e5',
                preConfirm: () => ({
                    in: document.getElementById('edit-in').value,
                    out: document.getElementById('edit-out').value
                })
            });

            if (f) {
                try {
                    const { error } = await sbClient.from(TAS_CONFIG.TABLE_SOURCE)
                        .update({ time_in: f.in || null, time_out: f.out || null }).eq('id', id);
                    if(error) throw error;
                    Swal.fire('‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', '‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß', 'success');
                    loadData();
                } catch(err) { Swal.fire('Error', err.message, 'error'); }
            }
        }

        // Delete
        function deleteRecord(id) {
            Swal.fire({
                title: '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏•‡∏ö?', icon: 'warning',
                showCancelButton: true, confirmButtonColor: '#ef4444', confirmButtonText: '‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£'
            }).then(async (r) => {
                if(r.isConfirmed) {
                    const { error } = await sbClient.from(TAS_CONFIG.TABLE_SOURCE).delete().eq('id', id);
                    if(!error) { loadData(); Swal.fire('Deleted!', '‡∏•‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢', 'success'); }
                }
            });
        }
    </script>
</body>
</html>
