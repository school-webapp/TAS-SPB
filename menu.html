<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å - TAS-SPB</title>
    <link rel="icon" type="image/png" href="favicon.png">
    
    <style>
        body { font-family: 'Sarabun', sans-serif; background-color: #f8fafc; margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        
        .header-bar { width: 100%; max-width: 600px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .user-info { display: flex; align-items: center; gap: 10px; font-weight: bold; color: #334155; }
        .logout-btn { background: #fee2e2; color: #ef4444; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-weight: bold; transition: 0.2s; }
        .logout-btn:hover { background: #fecaca; }

        /* Grid ‡πÄ‡∏°‡∏ô‡∏π */
        .menu-grid { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); /* 2 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå */
            gap: 20px; 
            width: 100%; 
            max-width: 600px; 
        }

        .menu-card {
            background: white; border-radius: 20px; padding: 25px 10px;
            text-align: center; cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none; color: inherit;
            display: flex; flex-direction: column; align-items: center;
        }
        .menu-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px rgba(0,0,0,0.1); }
        
        .emoji-icon { font-size: 3.5rem; margin-bottom: 10px; }
        .menu-title { font-size: 1.1rem; font-weight: bold; color: #1e293b; }
        
        /* ‡πÄ‡∏°‡∏ô‡∏π‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏ñ‡∏ß */
        .full-width { grid-column: span 2; background: linear-gradient(135deg, #4f46e5, #4338ca); color: white; }
        .full-width .menu-title { color: white; }

        @media (min-width: 768px) {
            .menu-grid { grid-template-columns: repeat(3, 1fr); }
            .full-width { grid-column: auto; }
        }
    </style>
    
    <script src="sweetalert2.js"></script>
</head>
<body>

    <div class="header-bar">
        <div class="user-info">
            <span>üë§</span> <span id="userName">...</span>
        </div>
        <button class="logout-btn" onclick="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
    </div>

    <div class="menu-grid">
        <a href="attendance.html" class="menu-card full-width">
            <span class="emoji-icon">üïí</span>
            <span class="menu-title">‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</span>
        </a>

        <a href="leave.html" class="menu-card">
            <span class="emoji-icon">üìù</span>
            <span class="menu-title">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏•‡∏≤</span>
        </a>

        <a href="report.html" class="menu-card">
            <span class="emoji-icon">üìä</span>
            <span class="menu-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</span>
        </a>

        <a href="settings.html" class="menu-card">
            <span class="emoji-icon">‚öôÔ∏è</span>
            <span class="menu-title">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</span>
        </a>

        <div class="menu-card" onclick="Swal.fire('‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ', '‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤', 'info')">
            <span class="emoji-icon">üß©</span>
            <span class="menu-title">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</span>
        </div>
    </div>

    <script>
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤
        const stored = localStorage.getItem('tas_user');
        if (!stored) window.location.href = 'login.html';
        
        const user = JSON.parse(stored);
        
        // üîí ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Level 1
        if (String(user.level) !== '1') {
            alert('‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏î‡∏±‡∏ö 1 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô');
            window.location.href = 'login.html';
        }

        document.getElementById('userName').innerText = user.name;

        function logout() {
            Swal.fire({
                title: '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö?', icon: 'warning',
                showCancelButton: true, confirmButtonColor: '#ef4444', confirmButtonText: '‡∏≠‡∏≠‡∏Å'
            }).then((r) => {
                if (r.isConfirmed) {
                    localStorage.removeItem('tas_user');
                    window.location.href = 'login.html';
                }
            });
        }
    </script>
</body>
</html>
